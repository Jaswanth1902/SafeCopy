# Backend Environment Configuration
# Secure File Printing System

# Server Configuration
PORT=5000
NODE_ENV=development
HOST=localhost

# Database Configuration
# IMPORTANT: DO NOT commit real credentials. Use a password manager to store secrets.
# For local development: generate a strong password and update these values in your local .env
# For production: use environment variables or a secrets manager (AWS Secrets, HashiCorp Vault, etc.)
# Example strong password: $(openssl rand -base64 32)
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}
DB_HOST=${DB_HOST:-localhost}
DB_PORT=${DB_PORT:-5432}
DB_NAME=${DB_NAME:-secure_print}
DB_USER=${DB_USER:-app_user}
DB_PASSWORD=${DB_PASSWORD:-CHANGE_ME_STRONG_PASSWORD}

# JWT Configuration
# IMPORTANT: Replace these with strong random secrets in production
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=${JWT_SECRET:-CHANGE_ME_DEV_JWT_SECRET_MIN_32_CHARS}
JWT_REFRESH_SECRET=${JWT_REFRESH_SECRET:-CHANGE_ME_DEV_REFRESH_SECRET_MIN_32_CHARS}
JWT_EXPIRY=1h
JWT_REFRESH_EXPIRY=7d

# CORS Configuration
CORS_ORIGIN=http://localhost:3000,http://localhost:3001
CORS_CREDENTIALS=true

# Encryption
# IMPORTANT: DO NOT hardcode encryption keys. Generate a strong random key for each environment.
# Generate a key with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Store the key in your secrets manager or CI/CD environment, never in source code.
ENCRYPTION_KEY=${ENCRYPTION_KEY:-CHANGE_ME_GENERATE_RANDOM_HEX_64_CHARS}

# File Upload Configuration
MAX_FILE_SIZE=100mb
UPLOAD_DIR=./uploads
ALLOWED_MIME_TYPES=application/pdf,image/jpeg,image/png,application/msword

# Email Configuration (Optional)
# IMPORTANT: DO NOT commit real email credentials. Store them in secrets manager or CI/CD.
# For local dev: use your own email and app-specific password (not your actual password)
# See CREDENTIALS_SECURITY.md for secure credential management
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=${SMTP_USER:-your_email@gmail.com}
SMTP_PASSWORD=${SMTP_PASSWORD:-CHANGE_ME_APP_PASSWORD}
SMTP_FROM=noreply@secureprintapp.com

# Logging
LOG_LEVEL=debug
LOG_FILE=./logs/app.log

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# File Expiration (in hours)
FILE_EXPIRY_HOURS=24

# Security
SECURE_COOKIES=true
SAME_SITE=Strict

# Feature Flags
ENABLE_MFA=true
ENABLE_AUDIT_LOGGING=true
ENABLE_FILE_ENCRYPTION=true

# Application Settings
APP_NAME=SecurePrint
APP_VERSION=1.0.0
ADMIN_EMAIL=admin@secureprintapp.com
